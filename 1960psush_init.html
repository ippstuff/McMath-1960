campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 31,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 11,
        "fields": {
            "year": 1960,
            "summary": "<p>The United States consists of sixty-six states. Facing enemies from Japan following the defeat of the Kaiser in 1948 and ambiguous relations with the soviets after their crawling out of civil war in 1926, it is unknown whether further cooperation is possible with the other great powers.</p><p>In Western Europe, the continent is dominated by socialist or left-leaning countries, with the British monarchy falling over a century ago. The geopolitical future is uncertain and tense.</p><p>Domestically, a leftward shift has been ongoing since Eugene Debs became President, culminating with the resignation of President Ulysses Grant III, leading Marxist Vice President Earl Browder to reach the highest office on May 22nd, 1954.</p>",
            "image_url": "https://i.imgur.com/wc7AzPx.png",
            "winning_electoral_vote_number": 393,
            "advisor_url": "https://i.imgur.com/cciJmoQ.png",
            "recommended_reading": "<h4 style=\"margin-top: 0.5em;\">1960 Election Books and Links</h4>David Pietrusza - <a href=\"http://www.amazon.com/exec/obidos/ASIN/1402777469/amhius20-20\" target=\"_blank\">1960--LBJ vs. JFK vs. Nixon: The Epic Campaign That Forged Three Presidencies</a></br>Theodore White - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0061900605/amhius20-20\" target=\"_blank\">The Making of the President 1960</a></br>W. J. Rorabaugh - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0700618872/amhius20-20\" target=\"_blank\">The Real Making of the President: Kennedy, Nixon, and the 1960 Election</a></br><a href=\"http://www.davidpietrusza.com/1960-cast-of-characters.html\" target=\"_blank\">1960 Cast of Characters</a></br><a href=\"https://www.youtube.com/watch?v=gbrcRKqLSRw\" target=\"_blank\">First Kennedy-Nixon Debate (video)</a></br><a href=\"https://www.youtube.com/watch?v=_CtSW-HQlxQ\" target=\"_blank\">The Making of the President 1960 (video documentary, 1963)</a>",
            "has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/1960-no-majority-photo.jpg",
            "creator": "Ippstuff",
            "display_year": "1960"
        }
    },
    {
        "model": "campaign_trail.election",
        "pk": 14,
        "fields": {
            "year": 1976,
            "summary": "<p>The United States consists of sixty-six states. Facing enemies from Japan following the defeat of the Kaiser in 1948 and ambiguous relations with the soviets after their crawling out of civil war in 1926, it is unknown whether further cooperation is possible with the other great powers.</p><p>In Western Europe, the continent is dominated by socialist or left-leaning countries, with the British monarchy falling over a century ago. The geopolitical future is uncertain and tense.</p><p>Domestically, a leftward shift has been ongoing since Eugene Debs became President, culminating with the resignation of President Ulysses Grant III, leading Marxist Vice President Earl Browder to reach the highest office on May 22nd, 1954.</p>",
            "image_url": "https://i.imgur.com/wc7AzPx.png",
            "winning_electoral_vote_number": 393,
            "advisor_url": "https://i.imgur.com/cciJmoQ.png",
            "recommended_reading": "<h4 style=\"margin-top: 0.5em;\">1960 Election Books and Links</h4>David Pietrusza - <a href=\"http://www.amazon.com/exec/obidos/ASIN/1402777469/amhius20-20\" target=\"_blank\">1960--LBJ vs. JFK vs. Nixon: The Epic Campaign That Forged Three Presidencies</a></br>Theodore White - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0061900605/amhius20-20\" target=\"_blank\">The Making of the President 1960</a></br>W. J. Rorabaugh - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0700618872/amhius20-20\" target=\"_blank\">The Real Making of the President: Kennedy, Nixon, and the 1960 Election</a></br><a href=\"http://www.davidpietrusza.com/1960-cast-of-characters.html\" target=\"_blank\">1960 Cast of Characters</a></br><a href=\"https://www.youtube.com/watch?v=gbrcRKqLSRw\" target=\"_blank\">First Kennedy-Nixon Debate (video)</a></br><a href=\"https://www.youtube.com/watch?v=_CtSW-HQlxQ\" target=\"_blank\">The Making of the President 1960 (video documentary, 1963)</a>",
            "has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/1960-no-majority-photo.jpg",
            "creator": "Ippstuff",
            "display_year": "1976"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 77,
        "fields": {
            "first_name": "Sid",
            "last_name": "McMath",
            "election": 11,
            "party": "Democratic-Labor",
            "state": "Arkansas",
            "priority": 1,
            "description": "<p>Sidney McMath, Governor of Arkansas, has been elected for multiple terms, including 1948 and 1952. A reformer, an anti-corruption fighter, a southern Democratic Laborite, McMath has the potential to become a major political figure for the 1960 election. But first, he needs to make crucial decisions that will impact his destined presidential run.</p>\n<p>His work as the head of the Southern Relief Commission, a Government owned corporation that has been economically developing the south since 1952, has led many southerners to directly attribute the food on their table to him. McMath could bring about what has been hoped for by the party since the 30's: A Coalition between northern workers, and rural southerners, something prevented by the election of Alfred Smith as president in 1936. </p>\n<h4>Time to see what he can do.</h4>",
            "color_hex": "#b61b1b",
            "secondary_color_hex": "#90C0FF",
            "is_active": 1,
            "image_url": "https://i.imgur.com/EODmy7j.jpeg",
            "electoral_victory_message": "<h2>The New America</h2><p>\"I repeat today what I first said in 1948 when I first got elected Governor of Arkansas; I will lead and I will lead best I can. But you, America, you must look within your hearts to the old promises and to the dreams for guidance. The ideals of the old America will become the creed of the new one. God bless you all, and god bless this great nation.\"</p>\n<p>You finish speaking and the broadcast stops. Silence. You won the election. Though you remain silent, the live broadcast has gone across the nation, and the globe. Tens of millions went to the ballot box, and voted some upstart Arkansas politician into the Oval Office. Nothing could be more emblematic of the New America.</p>\n<p>As you leave the studio, you make a short drive to a venue your team had rented out. Its a small celebration. Your wife Anne is there, Oscar Baker, your campaign manager, and a few others. Some drinks are shared, and towards the end of the night you and baker stay up talking policy and whatnot. For two men of different worlds, you seem to get along well. He was a good choice for VP.</p>\n<p>Eventually, you go to sleep on a pull out bed in the venue. Tomorrow, you will have to make preparations for your transfer of power, and begin coordinating strategy with the party. As you go to sleep, you dream of a man made of gold. He hands you a textbook you know was sent to schools in Arkansas years ago under your governorship. He tells you one thing before you forget about him and wake up the next day.</p>\n<h2>Good Luck.</h2> ",
            "electoral_loss_message": "<h2>Some jumped up rural southerner.</h2>\n<p>You tried, you really did. You just couldn't overtake Nixon and Sephiroth. The Democratic-Labor party let you place all their bets on black, and you blew it. Maybe you can stay a hero of Arkansas, but that's about it.</p>\n<p>The national party is effectively rudderless. They thought you were the most electable option, and they might have been right at the start of all this. But now, their party is dashed against the rock. In 1964, they may have a candidate up, but that candidate will not be you.</p>\n<p>Anne comes to your room a week after your opponent is inaugurated. You talk for hours, but your mind is preoccupied. When you both go to bed, you have a dream.</p>\n<p>You see a potted plant falling from sky in a bustling city. It lands in grime and dirt on a concrete sidewalk, and remains there. You watch what feels like for weeks, as the plant is stepped on and the clay pot is shattered to bits by a thousand steps. There is no life in the plant. It is wilted and dead.</p>\n<p>The next morning, you begin to write a memoir that won't be finished for 5 years.<p>",
            "no_electoral_majority_message": "<h2>A Bumpy Road</h2>\n<p>Sadly, you haven't won the election in a commanding majority. Though disheartening, don't worry, the House of representatives is controlled by the Democratic-Labor Party by large margins, so you should be fine. As well as the senate, so Oscar can ride his way to the Vice Presidency.</p>\n<p>You open the drawer of the desk in the Oval Office a day after your inauguration. ",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 78,
        "fields": {
            "first_name": "Albert",
            "last_name": "Sephiroth",
            "election": 11,
            "party": "Independent",
            "state": "Pennsylvania",
            "priority": 2,
            "description": "<h2>Not Playable Yet</h2><p>This was never supposed to happen. Albert was never supposed to become President, it took a dead body to get him here. The past 4 years have been a nightmare. President Richardson's tragic demise, President Chandler's resignation, the secession crises, and then the third civil war. Despite all of this Albert failed to win even a single primary.</p>\n\n<p>It is a longshot to even attempt a bid for president, but with enough grit, and determination, maybe he can pull through. He will need to rally the people around a central campaign message, and get enough backing around his bid, but it will be a hard fought battle to get four more years.</p>",
            "color_hex": "#3caa3e",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 1,
            "image_url": "https://i.imgur.com/JR9w8nj.jpeg",
            "electoral_victory_message": "<h2>A New Horizon.</h2>\n<p>You feel the jubilation in the crowd. You did it, you crazy son of a bitch, you did it. You watch as they shout, before you remember this is *your* speech.</p>\n<p>\"I believe, with every fiber of my being, that we are capable of overcoming any obstacle, of achieving any goal, when we stand united as one people, one nation, under God.\nI promise you this: I will not falter, I will not waver, and I will not rest until every American can live in peace and prosperity. I will continue to lead with integrity, with compassion, and with a steadfast commitment to the principles that have always guided us. And together, we will build a brighter future for ourselves, for our children, and for generations to come!\"</p>\n<p>The crowd is ecstatic. You begin to step off the podium, and Gerald Ford gets up to give some remarks, but you remain visible for all. Your heart beats in your chest. You *have* four more years. Now its time to expand your programs. You can continue your legacy, and cement your New Horizons party. The Liberals are falling apart, and the moderate Dem-Labs might even break for you with the failure of McMath. Science will prosper under your administration, and new technologies will advance rapidly with your funding. Maybe computers and revolutionary communication devices can begin development. Your space financing might put man on mars in the next decade, if you are lucky.</p>\n<p>Bask in the glory, the spirit of the nation, and in your heart of pure hope.</p>\n<h3>You Did It.</h3> ",
            "electoral_loss_message": "<h2>A Dead Dream.</h2><p>Looking out from the oval office, you watch over the south lawn, with its trees bare and fallen leaves scattered on the ground. Fall is coming to an end, but that's not the only thing ending this season. Your campaign has been on life support for months now, and its all gone now.</p>\n<p>How did you even manage this? to fail so miserably? That kid McMath? was he just, too popular? He had rural appeal sure, but *that much?* really? His party *had* gotten up the campaign machine, millions in donations, thousands of volunteers nationwide. The party had fully rallied behind him, and so had the voters.</p>\n<p>You take your eyes off the south lawn, and walk across the room and out the door into your personal study. On your desk is several building and floor plans. You had made them in your free time, and with your administration, hoped to have them built. That is not happening now. Even if the McMath presidency passes a housing act, your plans wont get passed, probably some no-name bureaucrat from South Dakota will get hired as a contractor.</p>\n<p>No one comes to comfort you. Your staff went home after the election was called. You sit in your study, and stew.</p>",
            "no_electoral_majority_message": "<h3>No candidate has won a majority in the Electoral College.</h3><p>The Democrats have an advantage in the House of Representatives, so you are probably in bad shape. However, a lot depends on how Kennedy deals with Harry Byrd. It's possible that some kind of deal will need to be struck for any candidate to get a clean majority in the House.</p>",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 79,
        "fields": {
            "first_name": "Richard",
            "last_name": "Nixon",
            "election": 11,
            "party": "Liberal",
            "state": "California",
            "priority": 1,
            "description": "<h2>Not Playable Yet</h2><p>After the scandals with death of President Richardson and subsequent resignation of President \"Happy\" Chandler, is in a state of disarray. The moderates of the party have left to the Laborites, and their most likely nominees have died an unexpected death. These are the circumstances in which Richard Nixon has been selected as a sacrificial lamb for the election.</p>\n\n<p>Nixon, who managed to rise from a Representative to the Speakership in a dozen years while also maintaining a promising career as a rap artist, is now the face of an effort by the party to rebrand itself to become a more center-right alternative to the left-leaning Democratic Labor Party.</p>\n\n<h4>In order to have any chance of winning, Nixon will have to shake things up.</h4>",
            "color_hex": "#4458a7",
            "secondary_color_hex": null,
            "is_active": 1,
            "image_url": "https://i.imgur.com/ka2Cb74.jpeg",
            "electoral_victory_message": "Victory! Death to Azerbaijan!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 1003,
        "fields": {
            "first_name": "Oscar",
            "last_name": "Baker",
            "election": 11,
            "party": "Democratic-Labor",
            "state": "Pennsylvania",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://i.imgur.com/wQUINO6.jpeg",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Patriotism. Unions. Tariffs. These words define Baker's political career. A union man, he worked in a steel mill for over a decade. A patriot, he spent his time in the war in a munitions factory after an injury prevented him from fighting. A protectionist, he used his senate post to establish massive tariffs on heavy industry within the United States through the Industrial Protection Act (IPA). With all of these, nothing could be more appealing to the urban union voter in the steel belt.</p>\n\n<p>With McMath being a rural southerner, he is placed out of step with urban northern voters. Baker will fix the biggest issue with McMath's campaign, and help propel him to the presidency.</p>",
            "candidate_score": 1,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 107150,
        "fields": {
            "candidate": 77,
            "running_mate": 1003
        }
    }
]

campaignTrail_temp.credits = "<button onclick='credits()'>Ippstuff and 'borrowed' code</button>";

credits = function() {
    credits = ["CODER", "Ippstuff+Borrowed code and Jett's code tools", "", "WRITER", "Ippstuff, minor contributions from: Track, OMT, Erwin, Shorkster", "", "SPECIAL THANKS", "The entire PSUSH discord <3 (You are all evil), Erwin, Shorkster, daoptimuswall (who was rightfully banned from the tct discord), and georger0171 ", "", "MAP", "Ippstuff, Jett (Code 2 and 1 tool), eastcoastoftheunitedstates, and insert_funnynamehere", "", "BORROWED CODE", "W. (For the credits code) TFC1976 (For the music player) 16ABY Organa (For the endingpicker and constructor code) Jett (For the AMAZING code 1 and 2 Modmaking tool), and various others i (think?) i borrowed code from, but cannot remember what code was borrowed or from where.", "", "MUSIC", "'Move on down' by eastcoastoftheunitedstates",]
    text = "CREDITS:\n\n"
    for (i in credits) {
        text += credits[i] + "\n"
    }
    alert(text)
  }

campaignTrail_temp.opponents_default_json = [
    {
        "election": 11,
        "candidates": [
            77,
            78,
            79
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 11,
        "candidates": [
            77,
            78,
            79
        ]
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 11,
        "year": 1960,
        "is_premium": 0,
        "display_year": "1960"
    }
]

//#startcode
quotes = [
    `"I say it's your right as an American to let your kids die of measles" - HML Gerald Ford`,
    `"I endorse this car." - Sen. Jefferson Davis`,
    `"I undrunk undrive" - Gov. Spiro Agnew`,
    `"Was Heydrich a Nazi?" - Gov. Jimmy Carter`,
    `"FUCK YOU" - John McCain`,
    `"I'm a lesbian myself." - George W. Bush`,
    `"Where the fuck did my dick go?" - Gov. George Romney`,
    `"I should make a terrorism tier list." - Anthony Morgan`,
    `"Hamburger Cheeseburger Big Mac Whopper" - Sen. George Petrol Uperson`
    ]
selQuote = quotes[Math.round(Math.random()*(quotes.length - 1))]
corrr = `<h2>THE PSUSH TRAIL</h2><p style="font-size: 12px; color: white;"><em>` + selQuote + `</em></p>`;


nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#001670";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#6789a2";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#7a0000";

document.getElementById("header").src = "https://i.imgur.com/A3eOAxC.png";

document.body.background = "https://i.imgur.com/maUKF0A.png";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#c8f5fe!important;}</style>";


musicMode = () => {
    // Initialise custom music
  
    $("#music_player")[0].children[0].style.display = "none"
    $("#music_player")[0].children[1].style.display = "none"
  
    document.getElementById("modLoadReveal").style.display = "none"
    document.getElementById("modloaddiv").style.display = "none"
  
    musicBox = document.getElementById("music_player")
    musicBox.style.display = ""
  
    var trackSel;
    e = campaignTrail_temp
    e.selectedSoundtrack = 0
  
    toTime = (seconds) => {
        var date = new Date(null);
        date.setSeconds(seconds);
        return date.toISOString().substr(11, 8);
    }
  
    generateTime = () => {
        // Get the audio element
        var audio = document.getElementById("campaigntrailmusic");
  
        timeTracker = document.createElement("div");
        timeTracker.style = `
  text-align:left;
  border-style:solid;
  border-width:3px;
  height:150px;
  width:200px;
  background-color:#999999;
  float:right;
  padding: 10px;
  `
        $("#trackSelParent")[0].prepend(timeTracker);
        $("#trackSelParent")[0].prepend(document.createElement("br"));
  
        // Create a new element to display the current position of the audio
        var positionDisplay = document.createElement("gg");
        positionDisplay.id = "position-display";
  
        // Create a new slider element to change the time
        var timeSlider = document.createElement("input");
        timeSlider.type = "range";
        timeSlider.min = 0;
        timeSlider.max = 1;
        timeSlider.step = 0.001;
        timeSlider.value = 0;
        timeSlider.style.width = "200px";
        timeSlider.id = "time-slider";
  
        var pausePlay = document.createElement("button");
        pausePlay.id = "position-display";
        pausePlay.innerHTML = "<b>Pause</b>"
        pausePlay.style.width = "100%";
  
  
        pausePlay.addEventListener("click", event => {
            event.preventDefault();
            updatePositionDisplay();
            let audio = document.getElementById("campaigntrailmusic");
            if (audio.paused) {
                audio.play();
                event.target.innerHTML = "<b>Pause</b>";
                return;
            }
            audio.pause();
            event.target.innerHTML = "<b>Play</b>";
            return;
        })
  
        var volumeLabel = document.createElement("gg");
        volumeLabel.id = "volume-label";
        volumeLabel.innerHTML = "<br><b>Volume: </b>"
  
        var volumeSlider = document.createElement("input");
        volumeSlider.type = "range";
        volumeSlider.min = 0;
        volumeSlider.max = 1;
        volumeSlider.step = 0.001;
        volumeSlider.value = 0;
        volumeSlider.style.width = "200px";
        volumeSlider.id = "volume-slider";
  
        volumeSlider.value = audio.volume;
  
        timeTracker.appendChild(pausePlay);
        timeTracker.appendChild(document.createElement("br"));
        timeTracker.appendChild(document.createElement("br"));
        timeTracker.appendChild(positionDisplay);
        timeTracker.appendChild(timeSlider);
        timeTracker.appendChild(volumeLabel);
        timeTracker.appendChild(volumeSlider);
  
        updatePositionDisplay();
  
        //for (let i = 0; i < 10; i++)
        //timeTracker.append(document.createElement("br"));
  
  
        // Function to update the position display
        function updatePositionDisplay() {
            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
            timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
        }
  
        // Function to change the time of the audio
        function changeTime() {
            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
            audio.currentTime = timeSlider.value * audio.duration;
        }
  
        updateVolume = event => {
            audio.volume = event.target.value;
        }
  
        // Update the position display and slider every second
        setInterval(updatePositionDisplay, 1000);
  
        // Listen for changes to the time slider and change the time of the audio
        timeSlider.addEventListener("input", changeTime);
        volumeSlider.addEventListener("input", updateVolume)
    }
  
    function newMusicPlayer() {
        trackSel = document.createElement("div");
        trackSel.id = "trackSelParent"
        let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
        z += `<b><select id='selectSoundtrack'><option value='` + soundtracks[e.selectedSoundtrack].name + `'>` + soundtracks[e.selectedSoundtrack].name + "</option>"
        for (i in soundtracks) {
            if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
                z += `<option value='` + soundtracks[i].name + `'>` + soundtracks[i].name + `</option>`
            }
        }
        z += `</select></b><br><br>`
            // <label><input type="radio" name="option" value="option1">Option 1</label><br>
        for (i in soundtracks[e.selectedSoundtrack].tracklist) {
            let a = soundtracks[e.selectedSoundtrack].tracklist[i]
            let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="` + i + `">` + a.name + `</label><br>`
            z += b
        }
        z += "</div><br><br>"
        trackSel.innerHTML = z
  
        // select correct song
  
        musicBox.appendChild(trackSel);
        Array.from(document.getElementById("trackSel").children).filter(f => {
            return f.tagName == "LABEL"
        }).map(f => f.children[0])[0].checked = true
  
        // set soundtrack changer
  
        soundtrackSelector = document.getElementById("selectSoundtrack")
        soundtrackSelector.onchange = function() {
            for (i in soundtracks) {
                if (soundtracks[i].name == soundtrackSelector.value) {
                    e.selectedSoundtrack = i
                    break
                }
            }
            document.getElementById("trackSelParent").remove()
            newMusicPlayer()
        }
  
        var matches = document.querySelectorAll('.trackSelector');
  
        for (match in matches) {
            matches[match].onchange = function() {
                audio = $("#campaigntrailmusic")[0];
                audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
                audio.currentTime = 0
            }
        }
  
        musicBox.children[2].loop = false
        musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url
  
        musicBox.children[2].onended = function() {
            console.log("next track")
            let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
            let newSel = clamp(selected + 1, soundtracks[e.selectedSoundtrack].tracklist.length - 1, 0)
            let buttons = Array.from(document.getElementById("trackSel").children).filter(f => {
                    return f.tagName == "LABEL"
                }).map(f => f.children[0])
                //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
            buttons[newSel].click()
        }
  
        for (w = 0; w < 7; w++) {
            document.getElementById("trackSelParent").appendChild(document.createElement("br"))
        }
  
        generateTime();
    }
  
    clamp = function(a, max, min, overflow = true) {
        if (overflow) {
            return a > max ? min : a < min ? max : a;
        }
        return a > max ? max : a < min ? min : a;
    }
  
  // Track list
  
  var soundtracks = {
    0: {
      name: "McMath",
      tracklist: [
        {
        name: "Dear Arkansas Daughter",
        url: "https://files.catbox.moe/hpbbvm.mp3",
        },
        {
        name: "Move On Down",
        url: "https://files.catbox.moe/qz1mh0.mp3",
        },
        {
        name: "Swallow the Sun",
        url: "https://files.catbox.moe/aqllyh.mp3",
        },
        {
        name: "Meadow Memory",
        url: "https://files.catbox.moe/hc46o9.mp3",
        },
        {
        name: "What A Wonderful World",
        url: "https://files.catbox.moe/d8n735.mp3",
        }
      ],
    },
}
  newMusicPlayer()
  }
  
  $("#game_start").click((event) => {
  event.preventDefault();
  $("#election_id_button").click((event) => {
      musicMode()
  
      setInterval(changeFontColour, 200)
  
  })
  })



//
function addDynamicCSS() {
    var css = `
        .inner_window_question h3 .mytooltip{
            background-color: lightskyblue;
        }

        .mytooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
            background-color: lightblue;
        }

        .mytooltip .mytooltiptext {
            width: 240px;
            background-color: lightblue;
            color: black;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 99;
            bottom: 20%;
            left: 20%;
            margin-left: -90px;
            opacity: 0;
            transition: opacity 0.3s;
            border: 1px solid black;
            pointer-events: none;
            font-size: 13px !important;
            line-height: 1.5em !important;
            font-weight: normal !important;
            font-style: normal !important;
        }

        .mytooltip .mytooltiptext img {
            max-width: 240px;
            height: auto;
        }

        .mytooltip:hover .mytooltiptext {
            opacity: 1;
            transition-delay: 0.5s;
        }
    `;

    var styleElem = document.createElement('style');
    styleElem.type = 'text/css';
    
    styleElem.appendChild(document.createTextNode(css));
    
    document.head.appendChild(styleElem);
}


addDynamicCSS();

tooltipList = [
    {searchString: "Arkansas Model", explanationText: "The term came as a result of Governor Sid McMath’s social, political, and economic reforms as the state’s governor. It calls for a large social net for all citizens and state run industries competing in a free market."},     
    {searchString: "Southern Relief Commission", explanationText: "Also known as the SRC; An economic development and jobs program for the south, it has led to massive economic growth, as well as urbanization and farm mechanization."},      
    {searchString: "Blair House", explanationText: "Residence of the Vice President. Established by former President Bailey while serving as Vice President to Al Smith."},     
    {searchString: "Earl Browder", explanationText: "Former Governor of and then Senator for Illinois. Represented the far left wing of the Democratic-Laborites while on the ticket 1952 elections."},     
    {searchString: "Senator Jack Park", explanationText: "Politican and figure in the Democratic-Labor party. Architect of the Civil Rights Act and several other major pieces of Democratic-Labor legislation."},     
    {searchString: "Blythe v. Board", explanationText: "A non-unanimous 1949 Supreme Court ruling that declared school segregation unconstitutional as well as the seperate but equal doctrine more broadly."},     
    {searchString: "Anthony Morgan", explanationText: "Democratic-Labor party member who lost the Mississippi senate race by 1.7% in 1956."},     
    {searchString: "Democratic-Labor", explanationText: "The left wing political party of the United States. Rose to prominence in the late 1800s and early 1900s."},
    {searchString: "Nixon", explanationText: "House Speaker for the United States, and broadly approved of by the Liberal Party. Partial rap artist."},  
    {searchString: "President Richardson", explanationText: "President at the tail end of World War Two, and broadly liked moderate. Won a close race against President Browder in 1956, to begin a non-consecutive third term in office."},  
    {searchString: "Kalina Perkins", explanationText: "Prime establishment Democratic-Labor leader. Holds broad control over the party, and is a senior member of the party. Ran on the ticket against Richardson in 1944."},  
    {searchString: "Sovereign Wealth Fund", explanationText: "State-owned investment fund that invests in real and financial assets such as stocks, bonds, real estate, precious metals, or in alternative investments such as private equity fund or hedge funds. ."},  
    {searchString: "American People's Party", explanationText: "Far right party of southerners and extreme social conservatives. Economic views vary wildly. Has outsized influence in southern politics."},  
    {searchString: "United Klans of America", explanationText: "Violent terrorist organization, which has remained active since president Eugene Debs tried and failed to ban it in the 1910s."},  
    {searchString: "Venezuela", explanationText: "Led by a far right anti-american government. Heavy opposition to the Golden Circle corporation, which controls much of central america and colombia."},  
    {searchString: "American Legion", explanationText: "Though named similarly to the American Silver Legion, a far right terrorist group, the American Legion is a non-political veteran's organization."},  
    {searchString: "Henderson", explanationText: "Secretary of state from Yellowstone, and Japanese sympathizer."},  
    {searchString: "Anthony Morgan", explanationText: "Democratic-Labor party member who lost the Mississippi senate race by 1.7% in 1956."},  
    {searchString: "Anthony Morgan", explanationText: "Democratic-Labor party member who lost the Mississippi senate race by 1.7% in 1956."}
];

//#endcode
